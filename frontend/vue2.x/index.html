<body>
  21123
</body>

<script>
  
  window.addEventListener('popstate', e => {
    console.log(e)
  })
//   function handleHashChange () {
//     console.log(window.location.hash)
//    // todo 匹配 hash 做 dom 更新操作
// }

// window.addEventListener('hashchange', handleHashChange)
</script>

ensureURL (push?: boolean) {
  if (getLocation(this.base) !== this.current.fullPath) {
    const current = cleanPath(this.base + this.current.fullPath)
    push ? pushState(current) : replaceState(current)
  }
}

export function getLocation (base: string): string {
  let path = window.location.pathname
  if (base && path.indexOf(base) === 0) {
    path = path.slice(base.length)
  }
  return (path || '/') + window.location.search + window.location.hash
}